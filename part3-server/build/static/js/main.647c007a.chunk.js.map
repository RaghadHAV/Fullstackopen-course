{"version":3,"sources":["components/Persons.js","components/AddPerson.js","components/FilterName.js","services/backend.js","App.js","index.js"],"names":["Persons","person","handleDelete","className","name","number","onClick","id","AddPerson","props","onSubmit","AddItem","value","newName","onChange","handleNameChange","type","newNumber","handleNumberChange","Filtername","handleFilter","baseUrl","axios","get","then","response","data","newObject","request","post","console","log","catch","err","delete","App","useState","persons","setPersons","setNewName","setNewNumber","Filter","setFilter","Msg","setMsge","notificationStatus","setNotificationStatus","useEffect","noteService","intialResponse","filter","window","confirm","newperson","msg","FilterName","event","filteredPerson","includes","target","preventDefault","length","newpersons","concat","error","map","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.647c007a.chunk.js","sourcesContent":["import React from \"react\";\nconst Persons = ({ person, handleDelete }) => {\n  return (\n    <li>\n      <div className=\"text\">\n        {person.name} {person.number}\n      </div>\n      <div className=\"btn\">\n        <button onClick={() => handleDelete(person.id)}>\n          <i className=\"fa fa-trash\"> Delete</i>\n        </button>\n      </div>\n    </li>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\nconst AddPerson = (props) => {\n  return (\n    <form onSubmit={props.AddItem}>\n      <div>\n        <p>Insert name: </p>\n        <input\n          value={props.newName}\n          onChange={props.handleNameChange}\n          type=\"text\"\n        />\n\n        <p> Insert number:</p>\n        <input\n          value={props.newNumber}\n          onChange={props.handleNumberChange}\n          type=\"text\"\n        />\n      </div>\n\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n};\nexport default AddPerson;\n","import React from \"react\";\nconst Filtername = (props) => {\n  return (\n    <div>\n      Search: <input onChange={props.handleFilter} type=\"text\" />\n    </div>\n  );\n};\n\nexport default Filtername;\n","import axios from \"axios\";\nconst baseUrl = 'http://localhost:3002/api/persons';\n//'/api/persons';\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  console.log('out they')\n  return request\n  .then((response) =>{\n    console.log('here is the res')\n    console.log(response)\n    return response.data})\n  .catch((err)=>{\n  throw err;\n    //console.log(err.response.data)\n    //console.log(`this is the err ${err}`);\n    });\n};\n\nconst update = (id, updatedObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedObject);\n  return request\n    .then((response) => response.data)\n    .catch((error) => {\n      console.log(`fail`);\n      throw error;\n    });\n};\nconst deleteItem = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\nexport default {\n  getAll,\n  create,\n  update,\n  deleteItem,\n};\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons.js\";\nimport AddPerson from \"./components/AddPerson\";\nimport FilterName from \"./components/FilterName\";\nimport noteService from \"./services/backend\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [Filter, setFilter] = useState(persons);\n  const [Msg, setMsge] = useState(\"\");\n  const [notificationStatus, setNotificationStatus] = useState(\"\");\n  useEffect(() => {\n    noteService.getAll().then((intialResponse) => {\n      setPersons(intialResponse);\n      console.log(`here is the initial res ${intialResponse}`);\n      setFilter(intialResponse);\n    });\n  }, []);\n\n  const AddItem = (event) => {\n    event.preventDefault();\n\n    const newObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    };\n    // const found = persons.some((person) => person.name === newName);\n    // console.log(\"found here is \" + found);\n    \n    // const differentNo = persons.some(\n    //   (person) => person.name === newName && person.number !== newNumber\n    // );\n\n    //if (!found && newName !== \"\" && newNumber !== \"\") {\n      \n    \n      noteService.create(newObject).then((intialResponse) => {\n        const newpersons = persons.concat(newObject);\n        setPersons(newpersons);\n        setFilter(newpersons);\n        setMsge(`${newName} Added Successfully`);\n        setNotificationStatus(\"success\");\n        setNewName(\"\");\n        setNewNumber(\"\");\n      }).catch((error)=>{\n        console.log(error.response)\n        setMsge(`${error.response.data.error}`);\n        setNotificationStatus(\"fail\");\n      });\n\n  };\n  const handleNameChange = (event) => {\n    event.preventDefault();\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    event.preventDefault();\n    setNewNumber(event.target.value);\n  };\n  const handleFilter = (event) => {\n    setMsge(\"\");\n   const filteredPerson = persons.filter(person => \n     person.name && person.name.includes(event.target.value));\n   console.log(filteredPerson);\n    setFilter(filteredPerson);\n  };\n  const handleDelete = (id) => {\n    const matchedPersons = persons.filter(person => \n      person.id === id\n      );\n      const name = matchedPersons[0].name; \n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      noteService.deleteItem(id).then((intialResponse) => {\n        const newperson= persons.filter(person =>\n           person.id !== id\n        );\n        setFilter(newperson);\n      });\n    }\n   \n  };\n  const Notification = ({ msg }) => {\n    if (msg === \"\") return null;\n    \n    else return <div className={notificationStatus}>{msg}</div>;\n  };\n  return (\n    <div>\n      <h2 className=\"main-title\">Phonebook</h2>\n      <Notification msg={Msg} />\n\n      <FilterName handleFilter={handleFilter} />\n      <h3>Add New Contact</h3>\n      <AddPerson\n        AddItem={AddItem}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>All Added Contacts</h3>\n    \n      <div>\n        <ul>\n          {Filter.map((person) => (\n            <Persons\n              key={person.id}\n              person={person}\n              handleDelete={handleDelete}\n            />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}