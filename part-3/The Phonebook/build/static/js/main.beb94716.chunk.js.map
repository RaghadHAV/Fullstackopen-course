{"version":3,"sources":["components/Persons.js","components/AddPerson.js","components/FilterName.js","services/backend.js","App.js","index.js"],"names":["Persons","person","handleDelete","className","name","number","onClick","id","AddPerson","props","onSubmit","AddItem","value","newName","onChange","handleNameChange","type","newNumber","handleNumberChange","Filtername","handleFilter","baseUrl","axios","get","then","response","data","newObject","post","updatedObject","put","catch","error","console","log","delete","App","useState","persons","setPersons","setNewName","setNewNumber","Filter","setFilter","successMsg","setSuccessMsge","useEffect","noteService","intialResponse","window","confirm","msg","FilterName","event","filter","indexOf","target","preventDefault","length","found","some","differentNo","requiredID","alert","map","newpersons","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.beb94716.chunk.js","sourcesContent":["import React from \"react\";\nconst Persons = ({ person, handleDelete }) => {\n  return (\n    <li>\n      <div className=\"text\">\n        {person.name} {person.number}\n      </div>\n      <div className=\"btn\">\n        <button onClick={() => handleDelete(person.id)}>\n          <i className=\"fa fa-trash\"> Delete</i>\n        </button>\n      </div>\n    </li>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\nconst AddPerson = (props) => {\n  return (\n    <form onSubmit={props.AddItem}>\n      <div>\n        <p>Insert name: </p>\n        <input\n          value={props.newName}\n          onChange={props.handleNameChange}\n          type=\"text\"\n        />\n\n        <p> Insert number:</p>\n        <input\n          value={props.newNumber}\n          onChange={props.handleNumberChange}\n          type=\"text\"\n        />\n      </div>\n\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n};\nexport default AddPerson;\n","import React from \"react\";\nconst Filtername = (props) => {\n  return (\n    <div>\n      Search: <input onChange={props.handleFilter} type=\"text\" />\n    </div>\n  );\n};\n\nexport default Filtername;\n","import axios from \"axios\";\nconst baseUrl = '/api/persons';//'http://localhost:3003/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, updatedObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedObject);\n  return request\n    .then((response) => response.data)\n    .catch((error) => {\n      console.log(`fail`);\n      throw error;\n    });\n};\nconst deleteItem = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\nexport default {\n  getAll,\n  create,\n  update,\n  deleteItem,\n};\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons.js\";\nimport AddPerson from \"./components/AddPerson\";\nimport FilterName from \"./components/FilterName\";\nimport noteService from \"./services/backend\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [Filter, setFilter] = useState(persons);\n  const [successMsg, setSuccessMsge] = useState(\"\");\n  useEffect(() => {\n    noteService.getAll().then((intialResponse) => {\n      setPersons(intialResponse);\n      setFilter(intialResponse);\n    });\n  }, []);\n \n  const AddItem = (event) => {\n    event.preventDefault();\n\n    const newObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    };\n    console.log(newObject);\n    const found = persons.some((person) => person.name === newName);\n    console.log(\"found here is \" + found);\n    \n    const differentNo = persons.some(\n      (person) => person.name === newName && person.number !== newNumber\n    );\n\n    if (!found && newName !== \"\" && newNumber !== \"\") {\n      const newpersons = persons.concat(newObject);\n      setPersons(newpersons);\n      console.log(newpersons);\n      noteService.create(newObject).then((intialResponse) => {\n        console.log(intialResponse);\n      });\n\n      setNewName(\"\");\n      setNewNumber(\"\");\n      setFilter(newpersons);\n\n      setSuccessMsge(`${newName} Added Successfully`);\n    } else if (differentNo) {\n      var requiredID = 1;\n      alert(` Updating number of ${newName}?`);\n      persons.map((person) => {\n        if (person.name === newName && person.number !== newNumber) {\n          requiredID = person.id;\n        }\n      });\n      console.log(`${requiredID} req id`);\n      noteService.update(requiredID, newObject);\n    } else if ((newName === \"\") | (newNumber === \" \")) {\n      alert(`You need to add something`);\n    } else alert(`${newName} is already added to phonebook`);\n  };\n  const handleNameChange = (event) => {\n    event.preventDefault();\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    event.preventDefault();\n    setNewNumber(event.target.value);\n  };\n  const handleFilter = (event) => {\n    setSuccessMsge(\"\");\n    setFilter(\n      persons.filter((person) => person.name.indexOf(event.target.value) !== -1)\n    );\n    console.log(event.target.value);\n  };\n  const handleDelete = (id) => {\n    if (window.confirm(`Are you sure you want to delete ${id}?`)) {\n      noteService.deleteItem(id).then((intialResponse) => {\n        console.log(intialResponse);\n      });\n    }\n  };\n  const Notification = ({ msg }) => {\n    if (msg === \"\") return null;\n    else return <div className=\"success\">{msg}</div>;\n  };\n  return (\n    <div>\n      <h2 className=\"main-title\">Phonebook</h2>\n      <Notification msg={successMsg} />\n\n      <FilterName handleFilter={handleFilter} />\n      <h3>Add New Contact</h3>\n      <AddPerson\n        AddItem={AddItem}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>All Added Contacts</h3>\n    \n      <div>\n        <ul>\n          {Filter.map((person) => (\n            <Persons\n              key={person.id}\n              person={person}\n              handleDelete={handleDelete}\n            />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}